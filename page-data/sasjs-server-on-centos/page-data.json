{"componentChunkName":"component---src-templates-template-tsx","path":"/sasjs-server-on-centos","result":{"data":{"site":{"meta":{"title":"SAS Apps - Unleash Your Analytics","description":"Custom Interfaces to the world's most powerful Analytics Platform","siteUrl":"https://sasapps.io","author":"Allan Bowe","twitter":"","adsense":""}},"post":{"id":"89c9c952-b6ff-547c-9e08-c3e69b754d75","html":"<p>SAS 9 on Centos may not be officially supported by SAS Institute, but it is supported by the SAS Apps team!  At least, we can support the SASjs Server component.</p>\n<p>This is a complete guide to setting up SASjs Server on CentOS 7.  A SAS runtime is a prerequisite, and a guide to installing that is available <a href=\"https://rawsas.com/sas-centos/\">here</a>.  A guide to installing SASjs Server on Debian / Ubuntu type images is available <a href=\"https://sasapps.io/sasjs-server-on-vps\">here</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; margin-bottom: 1.0725rem;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.95744680851064%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADaklEQVQ4y0WTXUyTZxTH32WLmrmMKXFmA0c/rVABgbWCiTPD8lHaIggIBinug03IBgP8uBA08WMy6FvaMloKtQUNnQrWSRxhQeMcOhlxbl6NLdnlbnbf2/e35y3OXZw853me9/39zznPOZLeKWOsHk5ZlnMUQ3UAU42f7Qd8GFxedA4ZbZUHnTCt8HX2AYwV/RjK+9GX9Ym1j+2VfYq+8rx6n5R21PrJPzRKSUuUr+Rh6nsnKDg8zq7GUXLqAkJoDaqrGkLjFEJlp8jMyCDtjc28npbGq69tZlNaumKyONE6fUlJ7wjSIg/hX23j2cM2FtojyD1xio6Mkd8wiiqoZqECtQJotJ1kS/om1q9fhyS9gjl7HdZ8SdHk2dC5AkmpqC6Cd8pL4h83Pyx5uHV0hstdM5R3TFJ4OIS5fmQtSgHUuUbQ7Oum2Poun33ezdFWF44yieZaSTEW2YSgANo/vEyoJ8b53gi3FxZ5MudhxnuRxi++wdISJrfha1HP4ecRihLYTrD1zXTM5jz2lOzk0MFMKvZnK/oCBzo15VxRqw9OTNPx8TXC1y7BH038/fAcez+5gqU5RJ5I+3/gWg31eh3FJSXsKrDw3r5Scs05IsIqAfQnpTzxIPZjMY6dThB60EdsVqbzTASrexzrkTA7RYSmmmEMTg9ZDgG0HacoPxudTsvGDS/zkiSJWkrK2zv2qoJJSf2hoCmIxR3G3jPB7o9iHOi9ge3TmGghv1D18pZtgK2ll1KtlFl6lpz32yit6ySr2M223a3sb+hWytwX1HZLSqYaXyqtQgEtbAoxPvsTsVvL1B+P4+ycorIjSuOpOBXtUeSp+/TKdwjOPiFwfYVw4ilzP/5JbO5XpWvoO7JrRQ0NLhkVahCNbROpLz5eZUvpAK39Mzx+9hcXI3eJzz9lcm6Fm4u/MXl7hUhimQ3WM9xb/p3QjUecDS4o0/O/UN11JSmpTav2mToVemHeqw8YiS9x0neH6Lc/c3pknrZzN1P25cRd2i8k8E8vMSZAA9H7IpNpIXpP+f7RKge7ryYldaxSoyXAGruHdyqHsDYHUSM3VMuY63wp36juhbBJfXGHhz2tY2SWD5JbH6C4JaSo5xnlg2sRvpjX5/62ikH+E8qye174qmlSq5yC6cW36r34XtGIM7FP/gtYQzFnQjNNegAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sasjs centos\"\n        title=\"sasjs centos\"\n        src=\"/static/b21c900cf0752b9c48b2895b1b9318f1/1d69c/sasjs_centos.png\"\n        srcset=\"/static/b21c900cf0752b9c48b2895b1b9318f1/4dcb9/sasjs_centos.png 188w,\n/static/b21c900cf0752b9c48b2895b1b9318f1/5ff7e/sasjs_centos.png 375w,\n/static/b21c900cf0752b9c48b2895b1b9318f1/1d69c/sasjs_centos.png 750w,\n/static/b21c900cf0752b9c48b2895b1b9318f1/9f82e/sasjs_centos.png 820w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<h2>Pre-Requisites</h2>\n<p>Before you get started, be sure you can obtain the following:</p>\n<ul>\n<li>The IP address of your VPS, with root SSH access, eg: <code class=\"language-text\">167.44.44.44</code></li>\n<li>A working installation of SAS (or WPS)</li>\n<li>A domain (and access to the DNS panel), eg <code class=\"language-text\">mysas.mycompany.com</code></li>\n<li>A MongoDB connection string (you can provision one locally or use a free cloud instance)</li>\n</ul>\n<h2>Server Setup</h2>\n<p>Let’s get this machine configured! First we log in as root, eg:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Enter as sudo-enabled user using YOUR new server IP address</span>\n<span class=\"token function\">ssh</span> user@167.44.44.44</code></pre></div>\n<p>Next, we create a unix group (<code class=\"language-text\">sas</code>) and create the system user account / home directory:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Create a sas group</span>\n<span class=\"token function\">sudo</span> addgroup sas\n<span class=\"token comment\"># Make the user account (eg sasjssrv) and add to sas group</span>\n<span class=\"token function\">sudo</span> adduser sasjssrv -G sas</code></pre></div>\n<h2>TLS / SSL</h2>\n<p>We can generate https certificates using <code class=\"language-text\">certbot</code>.  Since <code class=\"language-text\">certbot</code> is packaged as a snap, we’ll also install <code class=\"language-text\">snapd</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Add EPEL repository</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> epel-release\n<span class=\"token function\">sudo</span> yum upgrade\n<span class=\"token comment\"># Install snapd</span>\n<span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> snapd\n<span class=\"token comment\"># Enable snap communication socket</span>\n<span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> --now snapd.socket\n<span class=\"token comment\"># Create symbolic link</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">ln</span> -s /var/lib/snapd/snap /snap\n<span class=\"token comment\"># Now, log out of the session and log back in</span></code></pre></div>\n<p>Now we are back in the session we can install certbot:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Remove any previous installation\nsudo yum remove certbot\n# Install Certbot.\nsudo snap install --classic certbot\n# Make symlink\nsudo ln -s /snap/bin/certbot /usr/bin/certbot</code></pre></div>\n<p>Before proceeding further, it is necessary to first update your DNS and add an “A record” pointing to your server IP.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; margin-bottom: 1.0725rem;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.42553191489361%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABCUlEQVQoz52SS07EMBBEc2puwgFG4gwsuQLrEQuEYmaIEzuJlcTxL4XLEDQgoRG01ItuW1Wv266EEGiaBj9j27Z/ZTUMA5RSWJYF8zxjHEdYa8thSunPWXnvi4jWuggaM2Jd118pr0VFMgpO0wTnHGKMCCGARnuyds5nh4CjMLg5POPxSeMkXlDXArJf8KYtzOxRkarruiJISu6TJgyK7wYcJyPChYSzdlh9gs8AnMbnnst1jOlDkIR930NKmUc2RYDZtm0xYI+kMYsKUUN1MpvOWcyVNfHu18g7BZ32Q9LsZCGGbw/EtfhPQ9Y0snaBMg5yzCOzebnsa9/i8h6DlFq+4u6hxu39Ce9G4m+sfghkYQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sasjs server dns\"\n        title=\"sasjs server dns\"\n        src=\"/static/3f359fdd06abf3c58f48a9b8a727986c/1d69c/sasjs_server_dns.png\"\n        srcset=\"/static/3f359fdd06abf3c58f48a9b8a727986c/4dcb9/sasjs_server_dns.png 188w,\n/static/3f359fdd06abf3c58f48a9b8a727986c/5ff7e/sasjs_server_dns.png 375w,\n/static/3f359fdd06abf3c58f48a9b8a727986c/1d69c/sasjs_server_dns.png 750w,\n/static/3f359fdd06abf3c58f48a9b8a727986c/78797/sasjs_server_dns.png 1125w,\n/static/3f359fdd06abf3c58f48a9b8a727986c/aa440/sasjs_server_dns.png 1500w,\n/static/3f359fdd06abf3c58f48a9b8a727986c/bfe41/sasjs_server_dns.png 2082w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p>Once this is done, we can launch certbot.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># provide domain to prompt WITHOUT https prefix, eg mysas.mycompany.com\nsudo certbot certonly --standalone\n\n# ensure members of the sas group can access the certs\n# update the paths below according to the actual domain!\nmkdir /opt/certificates\ncd /etc/letsencrypt/live/YOURDOMAIN.com\ncp fullchain.pem /opt/certificates/fullchain.pem\ncp privkey.pem /opt/certificates/privkey.pem\nchgrp -R sas /opt/certificates\nchmod -R 755 /opt/certificates</code></pre></div>\n<h2>SASjs Installation &#x26; Configuration</h2>\n<p>The rest of the installation is exactly as described in <a href=\"https://sasapps.io/sasjs-server-on-vps\">this article</a> (from “SASjs Installation &#x26; Configuration” onwards).</p>","frontmatter":{"title":"SASjs Server on CentOS","featuredImage":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAADaklEQVQ4y0WTXUyTZxTH32WLmrmMKXFmA0c/rVABgbWCiTPD8lHaIggIBinug03IBgP8uBA08WMy6FvaMloKtQUNnQrWSRxhQeMcOhlxbl6NLdnlbnbf2/e35y3OXZw853me9/39zznPOZLeKWOsHk5ZlnMUQ3UAU42f7Qd8GFxedA4ZbZUHnTCt8HX2AYwV/RjK+9GX9Ym1j+2VfYq+8rx6n5R21PrJPzRKSUuUr+Rh6nsnKDg8zq7GUXLqAkJoDaqrGkLjFEJlp8jMyCDtjc28npbGq69tZlNaumKyONE6fUlJ7wjSIg/hX23j2cM2FtojyD1xio6Mkd8wiiqoZqECtQJotJ1kS/om1q9fhyS9gjl7HdZ8SdHk2dC5AkmpqC6Cd8pL4h83Pyx5uHV0hstdM5R3TFJ4OIS5fmQtSgHUuUbQ7Oum2Poun33ezdFWF44yieZaSTEW2YSgANo/vEyoJ8b53gi3FxZ5MudhxnuRxi++wdISJrfha1HP4ecRihLYTrD1zXTM5jz2lOzk0MFMKvZnK/oCBzo15VxRqw9OTNPx8TXC1y7BH038/fAcez+5gqU5RJ5I+3/gWg31eh3FJSXsKrDw3r5Scs05IsIqAfQnpTzxIPZjMY6dThB60EdsVqbzTASrexzrkTA7RYSmmmEMTg9ZDgG0HacoPxudTsvGDS/zkiSJWkrK2zv2qoJJSf2hoCmIxR3G3jPB7o9iHOi9ge3TmGghv1D18pZtgK2ll1KtlFl6lpz32yit6ySr2M223a3sb+hWytwX1HZLSqYaXyqtQgEtbAoxPvsTsVvL1B+P4+ycorIjSuOpOBXtUeSp+/TKdwjOPiFwfYVw4ilzP/5JbO5XpWvoO7JrRQ0NLhkVahCNbROpLz5eZUvpAK39Mzx+9hcXI3eJzz9lcm6Fm4u/MXl7hUhimQ3WM9xb/p3QjUecDS4o0/O/UN11JSmpTav2mToVemHeqw8YiS9x0neH6Lc/c3pknrZzN1P25cRd2i8k8E8vMSZAA9H7IpNpIXpP+f7RKge7ryYldaxSoyXAGruHdyqHsDYHUSM3VMuY63wp36juhbBJfXGHhz2tY2SWD5JbH6C4JaSo5xnlg2sRvpjX5/62ikH+E8qye174qmlSq5yC6cW36r34XtGIM7FP/gtYQzFnQjNNegAAAABJRU5ErkJggg==","width":400,"height":265,"src":"/static/b21c900cf0752b9c48b2895b1b9318f1/497c6/sasjs_centos.png","srcSet":"/static/b21c900cf0752b9c48b2895b1b9318f1/497c6/sasjs_centos.png 1x,\n/static/b21c900cf0752b9c48b2895b1b9318f1/2a4de/sasjs_centos.png 1.5x,\n/static/b21c900cf0752b9c48b2895b1b9318f1/ee604/sasjs_centos.png 2x"}}},"path":"/sasjs-server-on-centos","category":"SASjs Server","tags":["SASjs","SASjs Server","SAS Admin","SAS"],"description":"Installation of SASjs Server on a CentOS 7 machine","date":"2022/09/01"}}},"pageContext":{}}}